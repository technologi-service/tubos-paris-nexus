generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model categorias_cognitivas {
  id                  Int     @id @default(autoincrement())
  de                  String?
  a                   String?
  categoria_cognitiva String?
}

model clientes_csv {
  id_rfm         BigInt   @id(map: "cliente_csv_pkey") @default(autoincrement())
  id_cliente     String
  nombre_empresa String?
  year_          Int
  trimestre      Int      @db.SmallInt
  corte          DateTime @db.Date
  recencia       Int
  frequencia     Int
  volumen        Decimal  @db.Decimal(20, 2)
  r_score        Int?
  f_score        Int?
  v_score        Int?
  score          Decimal? @db.Decimal(6, 2)
  calculado_en   DateTime @default(now()) @db.Timestamptz(6)
  segmento       String?

  @@unique([id_cliente, year_, trimestre], map: "clientes_csv_uniq_cliente_periodo")
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model datos_para_el_csv {
  id_cliente      String?   @db.VarChar(50)
  nombre_r_social String?
  fecha           DateTime? @db.Date
  volumen         Decimal?  @db.Decimal(10, 2)

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model entrada_tubos {
  cif_o_nif         String?
  tipo_cliente      String?
  id_cliente        String?
  nombre_r_social   String?
  sector            String?
  fecha_alta        String?
  antig_edad        BigInt?   @map("antig√ºedad")
  razon_social      String?
  fecha_compra      DateTime? @db.Date
  volumen           String?
  margen            String?
  I_PORTES          BigInt?
  FECHA_PAGO        String?
  serie_alb         String?
  articulo          String?
  nombre_articulo   String?
  unidades          String?
  precio            String?
  peso_real         String?
  tipo_portes_doc   String?
  forma_pago        String?
  estado_alb        BigInt?
  tarifa            String?
  margen_importe    String?
  serie_fac         String?
  rig_fac           BigInt?
  estado_fac        BigInt?
  case              String?
  tipo_portes_cli   String?
  rango             String?
  indice            String?
  i_portes_cli      BigInt?
  fecha_entrada_mat DateTime? @db.Timestamp(6)

  @@ignore
}

model segmento_categorico {
  id               Int     @id @default(autoincrement())
  nombre_categoria String?
  score_min        Int?
  score_max        Int?
  segmento         String?
}

model variables_pesos {
  id     Int      @id @default(autoincrement())
  nombre String?
  peso   Decimal? @db.Decimal
}

model variables_rangos {
  id         Int     @id @default(autoincrement())
  nombre     String?
  min_valor  Int?
  max_valor  Int?
  puntuacion Int?
}

model vcs {
  id_cliente          String  @id
  segmento_anterior   String?
  segmento_actual     String?
  categoria_cognitiva String?
}

---
import '../styles/global.css';
import { actions } from "astro:actions";
const {data, error} = await Astro.callAction(actions.getAllClientes, {  })
---

<section class="min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-100 to-green-100">
	<div class="w-full max-w-4xl bg-white rounded-2xl shadow-2xl p-10">
		<h2 class="text-4xl font-extrabold text-center text-blue-800 mb-8">Lista de Clientes</h2>
		{error && <p class="text-red-500 text-center text-lg">{error.message}</p>}
		{Array.isArray(data) && data.length > 0 ? (
			<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
				{data.map((cliente, idx) => {
					return (
						<div class="border rounded-lg p-6 bg-gradient-to-br from-blue-900 to-green-800 shadow-lg transform hover:scale-105 transition-transform duration-300">
							<div class="text-xl font-bold text-white mb-2">ID Cliente: <span class="text-yellow-300">{cliente.id_cliente ?? 'Sin ID'}</span></div>
							<div class="text-md text-gray-200 mb-1">Segmento Anterior: <span class="text-yellow-200">{cliente.segmento_anterior ?? 'Sin segmento'}</span></div>
							<div class="text-md text-gray-200 mb-1">Segmento Actual: <span class="text-yellow-200">{cliente.segmento_actual ?? 'Sin segmento'}</span></div>
							<div class="text-md text-gray-200">Categoría Cognitiva: <span class="text-yellow-200">{cliente.categoria_cognitiva ?? 'Sin categoría'}</span></div>
						</div>
					);
				})}
			</div>
		) : (
			<p class="text-center text-gray-500 text-lg">No hay clientes registrados.</p>
		)}
	</div>
</section>
